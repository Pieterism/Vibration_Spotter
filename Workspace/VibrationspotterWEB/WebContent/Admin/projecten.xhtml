<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<title><ui:insert name="title">Projecten</ui:insert></title>
	<link rel="stylesheet" href="../stijl/stijl.css"></link>
	<link rel="stylesheet" href="../stijl/stijlmetingen.css"></link>
</h:head>


<h:body>
	<div class="header">
		<h1>
			<b>Projecten</b><img src="../images/logo.png" width="50" height="50" />
		</h1>
	</div>
	<div class="topnav">
		<a href="index.xhtml">Home</a> <a class="active"
			href="projecten.xhtml">Projecten</a> <a href="kaart.xhtml">Kaart</a>
		<a href="about.xhtml">About</a> <a href="createaccount.xhtml">Create
			account</a>
		<h:form>
			<h:commandButton styleClass="logout" image="../images/logout.png"
				value="uitloggen" action="#{loginController.logout}" />
		</h:form>

	</div>
<h:form>
	<p:dataTable value="#{projectManagementEJB.findAllProjecten()}" var="pro" style="margin-top:10px" widgetVar="carsTable">
			
		<p:column headerText="IdProject" style="text-align:center;width:100px;" sortBy="#{pro.idProject}" filterBy="#{pro.idProject}" >
        	<h:outputText value="#{pro.idProject}" />
    	</p:column>
    			
		<p:column headerText="Titel" style="text-align:center" sortBy="#{pro.titel}" filterBy="#{pro.titel}" >
        	<h:outputText value="#{pro.titel}" />
    	</p:column>
    			
    	<p:column headerText="Type" style="text-align:center" sortBy="#{pro.type}" filterBy="#{pro.type}">
        	<h:outputText value="#{pro.type}" />
    	</p:column>
    			
    	<p:column headerText="Beschrijving" style="text-align:center" filterBy="#{pro.beschrijving}">
        	<h:outputText value="#{pro.beschrijving}" />
    	</p:column>
    	
    	<p:column headerText="QR-code" style="text-align:center">
        	<h:graphicImage value="/qr?id=#{pro.QR}" style="width:32px;height:18px"/>
    	</p:column>
    			
    	<p:column headerText="emailadres" style="text-align:center" sortBy="#{projectController.zoekEmailadres(pro)}" filterBy="#{projectController.zoekEmailadres(pro)}">
        	<h:outputText value="#{projectController.zoekEmailadres(pro)}" />
    	</p:column>
    			
    	<p:column headerText="Metingen" style="text-align:center">
        	<h:commandButton value="bekijk metingen"
			action="#{projectController.gaNaarMeting(pro)}">
			</h:commandButton>
    	</p:column>
    			
    	<p:column headerText="wissen" style="text-align:center">
        	<h:commandButton value="project wissen"
				onclick="return confirm('wilt u zeker dit project wissen?')"
				action="#{projectController.wissen(pro)}">
			</h:commandButton>
    	</p:column>
    	
    		<p:column headerText="project goedkeuren" style="text-align:center">
        	<h:selectOneMenu value = "#{pro.goedgekeurd}">
   				<f:selectItem itemValue = "false" itemLabel = "weigeren" /> 
   				<f:selectItem itemValue = "true" itemLabel = "aanvaarden" />
   				<f:ajax execute="@this" listener="#{projectController.update(pro)}" render="input" />
		 </h:selectOneMenu> 
    	</p:column>
 	
	</p:dataTable>
</h:form>

</h:body>
</html>
